<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Active Bot Sessions</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Active Bot Sessions</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="sessions.html">Active Sessions</a>
    </nav>
  </header>

  <main>
    <h2>Bot Status</h2>
    <table>
      <thead>
        <tr>
          <th>Server Name</th>
          <th>Server IP</th>
          <th>Port</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="bot-status">
        <!-- Status will be dynamically loaded -->
      </tbody>
    </table>
  </main>

  <script>
    async function fetchBotStatus() {
      const response = await fetch('/status');
      const bots = await response.json();

      const botStatus = document.getElementById('bot-status');
      botStatus.innerHTML = bots.map(bot => `
        <tr>
          <td>${bot.serverName}</td>
          <td>${bot.serverIP}</td>
          <td>${bot.serverPort}</td>
          <td>${bot.connected ? 'Connected' : 'Disconnected'}</td>
        </tr>
      `).join('');
    }

    fetchBotStatus();
    setInterval(fetchBotStatus, 5000);
  </script>
</body>
</html>
